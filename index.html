<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>マダココ LIFF App</title>

    <link rel="stylesheet" href="swiper-bundle.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>

    <div id="loader-wrapper">
        <div class="loader-content">
            <div class="spinner"></div>
            <div class="loader-text-container">
                <span class="loading-text-item">リダイレクト中です...</span>
                <span class="loading-text-item">読み込み中です...</span>
                <span class="loading-text-item">表示情報の取得です</span>
            </div>
        </div>
    </div>

    <div id="app" style="display: none;">
        
        <div id="my-page" class="page">
            
            <header class="profile-header">
                <img id="profile-image" src="https://placehold.jp/150x150.png" alt="プロフィール画像">
                <h2 id="nickname">読み込み中...</h2>
                <p id="user-details">--歳・--</p>
            </header>

            <main class="main-content">
                <section class="metrics">
                    <div class="metric-card">
                        <span class="metric-label">保有キュン</span>
                        <span class="metric-value" id="kyun-points">--</span>
                    </div>
                    <div class="metric-card">
                        <span class="metric-label">診断達成率</span>
                        <span class="metric-value" id="diagnosis-progress">--%</span>
                    </div>
                </section>
                <section class="pickup-section">
                    <h3>今日のピックアップ</h3>
                </section>
                <section class="pickup-users">
                    <img src="https://placehold.jp/100x100.png?text=User1" alt="ピックアップユーザー1">
                    <img src="https://placehold.jp/100x100.png?text=User2" alt="ピックアップユーザー2">
                    <img src="https://placehold.jp/100x100.png?text=User3" alt="ピックアップユーザー3">
                </section>

                <section class="timeline">
                    <div class="timeline-item">
                        <img src="https://placehold.jp/100x100.png?text=User4" alt="ゆりん">
                        <p><strong>ゆりさん(24)</strong>とマッチングしました！</p>
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="timeline-item">
                        <img src="https://placehold.jp/100x100.png?text=User5" alt="さおり">
                        <p><strong>さおりさん(24)</strong>が「いいね！」しました。</p>
                        <i class="fas fa-heart" style="color: #FFC0CB;"></i>
                    </div>
                    <div class="timeline-item timeline-item-action">
                        <img src="https://placehold.jp/100x100.png?text=User6" alt="いれん">
                        <div class="timeline-item-content">
                            <p><strong>いれんさん</strong>が「いいね！」しました。</p>
                            <p class="timeline-subtext">プロフィールを30%更新しました！</p>
                        </div>
                        <a href="#" class="timeline-button">可能する</a>
                    </div>
                </section>

                </main>

            <nav class="footer-nav">
                <a href="#" class="nav-item active" id="go-to-home-from-home">
                    <i class="fas fa-home"></i>
                    <span>ホーム</span>
                </a>
                <a href="#" class="nav-item" id="go-to-swipe-from-home">
                    <i class="fas fa-search"></i>
                    <span>さがす</span>
                </a>
                <a href="#" class="nav-item" id="go-to-maee-from-home">
                    <i class="fas fa-heart"></i>
                    <span>診断</span>
                </a>
                <a href="#" class="nav-item" id="go-to-messages-from-home">
                    <i class="fas fa-comments"></i>
                    <span>メッセージ</span>
                </a>
                <a href="#" class="nav-item" id="go-to-mypage-from-home">
                    <i class="fas fa-user"></i>
                    <span>アシスタント</span>
                </a>
            </nav>

        </div>
        <div id="user-grid-page" class="page" style="display: none;">
            <header class="page-header">
                <a href="#" class="back-button" data-target="my-page">＜ マイページへ</a>
                <h1>旧ユーザー画面</h1>
            </header>
            <main id="user-grid-container" class="user-grid"></main>
        </div>

        <div id="user-swipe-page" class="page" style="display: none;">
            <div class="app-container">
                <header class="app-header">
                    <button class="icon-btn back-button" data-target="my-page"><i class="fas fa-chevron-left"></i></button>
                    <h1>MADC</h1>
                    <button class="icon-btn"><i class="fas fa-sliders-h"></i></button>
                </header>
                <main class="main-content">
                    <div class="swiper">
                        <div class="swiper-wrapper" id="swipe-deck">
                            </div>
                    </div>
                </main>
                <nav class="footer-nav">
                    <a href="#" class="nav-item" id="go-to-home-from-swipe">
                        <i class="fas fa-home"></i>
                        <span>ホーム</span>
                    </a>
                    <a href="#" class="nav-item active" id="go-to-swipe-from-swipe">
                        <i class="fas fa-search"></i>
                        <span>さがす</span>
                    </a>
                    <a href="#" class="nav-item" id="go-to-maee-from-swipe">
                        <i class="fas fa-heart"></i>
                        <span>診断</span>
                    </a>
                    <a href="#" class="nav-item" id="go-to-messages-from-swipe">
                        <i class="fas fa-comments"></i>
                        <span>メッセージ</span>
                    </a>
                    <a href="#" class="nav-item" id="go-to-mypage-from-swipe">
                        <i class="fas fa-user"></i>
                        <span>アシスタント</span>
                    </a>
                </nav>
            </div>
        </div>

    <div id="registration-header" style="display: none;">
            
            <div class="header-top-row">
                <button id="reg-back-btn" class="header-back-btn" onclick="goBackStep()">
                    <i class="fas fa-chevron-left"></i>
                    <span>戻る</span>
                </button>

                <div class="reg-logo-container">
                    <img src="img/logo.png" alt="MADAKOKO Logo" class="reg-logo">
                </div>
                
                <div class="header-spacer"></div>
            </div>
            
            <div class="progress-area">
                <div class="progress-label">
                    <span class="step-text">STEP</span>
                    <span id="current-step-num" class="current-num">1</span>
                    <span class="total-num">/ 6</span>
                </div>
                <div class="progress-bar-bg">
                    <div id="progress-bar-fill" class="progress-bar-fill" style="width: 16%;"></div>
                </div>
            </div>
        </div>

    <div id="gender-selection-page" class="page" style="display: none;">
            <div class="gender-container">
                <h2>あなたの性別を教えてください</h2>
                <p>マッチングのために必要です</p>
                <div class="gender-buttons">
                    <button class="gender-btn male" onclick="selectGender('Men')">
                        <i class="fas fa-mars"></i> 男性
                    </button>
                    <button class="gender-btn female" onclick="selectGender('Women')">
                        <i class="fas fa-venus"></i> 女性
                    </button>
                </div>
            </div>
        </div>

    <div id="name-input-page" class="page" style="display: none;">
            <div class="gender-container"> <h2>お名前を教えてください</h2>
                <p>ユーザー登録のため、お名前（フルネーム）を入力してください。<br><small>(例)田中花子</small></p>
                
                <div class="input-group">
                    <input type="text" id="user-name-input" class="registration-input" placeholder="お名前を入力">
                </div>

                <div class="gender-buttons" style="margin-top: 30px;">
                    <button class="gender-btn next-step" onclick="submitName()">
                        次へ進む <i class="fas fa-chevron-right" style="font-size: 1rem; margin-left: 5px;"></i>
                    </button>
                </div>
            </div>
        </div>
     <div id="nickname-input-page" class="page" style="display: none;">
            <div class="gender-container"> <h2>ニックネーム登録</h2>
                <p>次に、マダココ上で使用したいニックネームを送信をお願い致します！<br><small style="color: #ff5252;">※他のユーザーに表示されます</small></p>
                
                <div class="input-group">
                    <input type="text" id="user-nickname-input" class="registration-input" placeholder="ニックネームを入力">
                </div>

                <div class="gender-buttons" style="margin-top: 30px;">
                    <button class="gender-btn next-step" onclick="submitNickname()">
                        次へ進む <i class="fas fa-chevron-right" style="font-size: 1rem; margin-left: 5px;"></i>
                    </button>
                </div>
            </div>
        </div>
     <div id="employee-id-input-page" class="page" style="display: none;">
            <div class="gender-container"><h2>従業員番号の登録</h2>
                <p>次に、従業員番号の送信をお願い致します！<br>
                   <small>(例)01010011 ※半角英数字のみ入力して下さい。</small>
                </p>
                
                <div class="input-group">
                    <input type="tel" id="user-employee-id-input" class="registration-input" placeholder="従業員番号を入力" maxlength="8" pattern="[0-9]*">
                </div>

                <div class="gender-buttons" style="margin-top: 30px;">
                    <button class="gender-btn next-step" onclick="submitEmployeeId()">
                        次へ進む <i class="fas fa-chevron-right" style="font-size: 1rem; margin-left: 5px;"></i>
                    </button>
                </div>
            </div>
        </div>
      <div id="age-input-page" class="page" style="display: none;">
            <div class="gender-container">
                <h2>年齢の登録</h2>
                <p>次に、あなたの年齢の送信をお願い致します！</p>
                
                <div class="input-group">
                    <input type="tel" id="user-age-input" class="registration-input" placeholder="年齢を入力 (例: 25)" maxlength="2" pattern="[0-9]*">
                </div>

                <div class="gender-buttons" style="margin-top: 30px;">
                    <button class="gender-btn next-step" onclick="submitAge()">
                        次へ進む <i class="fas fa-chevron-right" style="font-size: 1rem; margin-left: 5px;"></i>
                    </button>
                </div>
            </div>
        </div>

      <div id="department-input-page" class="page" style="display: none;">
            <div class="gender-container" style="max-width: 400px;"> <h2>所属領域の選択</h2>
                <p>あなたが所属する領域を選択してください！</p>
                
                <div class="department-grid">
                    <button class="dept-btn" onclick="submitDepartment('HR/人材')">HR・人材</button>
                    <button class="dept-btn" onclick="submitDepartment('住まい')">住まい</button>
                    <button class="dept-btn" onclick="submitDepartment('結婚')">結婚</button>
                    <button class="dept-btn" onclick="submitDepartment('車')">車</button>
                    <button class="dept-btn" onclick="submitDepartment('教育/進路')">教育・進路</button>
                    <button class="dept-btn" onclick="submitDepartment('旅行・レジャー')">旅行・レジャー</button>
                    <button class="dept-btn" onclick="submitDepartment('飲食')">飲食</button>
                    <button class="dept-btn" onclick="submitDepartment('ビューティー')">ビューティー</button>
                    <button class="dept-btn" onclick="submitDepartment('その他（業務支援など）')">その他<br><span style="font-size:0.8em">(業務支援など)</span></button>
                </div>

                <div style="margin-top: 20px;">
                    <small>※ボタンをタップすると登録が完了します</small>
                </div>
            </div>
        </div>

        <!-- 登録後のオンボーディング-->
        <div id="onboarding-page" class="page" style="display: none;">
　　　　　<div class="swiper onboarding-swiper">
                <div class="swiper-wrapper">
                    
                    <div class="swiper-slide onboarding-slide">
                        <div class="slide-text-area">
                            <h2>ご登録ありがとうございます！<br>まずは使い方を知りましょう</h2>
                        </div>
                        <img src="img/AI-choice.png" alt="説明画像1" class="onboarding-image">
                        <div class="slide-text-area">
                            <p>あなたを助ける専属の<br>AIアシスタントを選択します。</p>
                        </div>
                    </div>

                    <div class="swiper-slide onboarding-slide">
                        <div class="slide-text-area">
                            <h2>安心・安全にご利用いただくために</h2>
                        </div>
                        <img src="https://placehold.jp/800x600.png?text=Image+2" alt="説明画像2" class="onboarding-image">
                        <div class="slide-text-area">
                            <p>24時間365日の監視体制や<br>本人確認を徹底しています。</p>
                        </div>
                    </div>

                    <div class="swiper-slide onboarding-slide">
                        <div class="slide-text-area">
                            <h2>プロフィール写真を充実させましょう</h2>
                            <p>顔がはっきり写っている写真が好印象です。<br>後からマイページで変更できます。</p>
                        </div>
                        <img src="https://placehold.jp/800x600.png?text=Image+3" alt="説明画像3" class="onboarding-image">
                        <div class="slide-text-area">
                            <div class="photo-tips">
                                <small>※加工が強すぎる写真や、本人が写っていない写真は避けましょう。</small>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="swiper-pagination onboarding-pagination">
                </div>
                <div class="onboarding-footer">
                <button id="onboarding-next-btn" class="main-action-btn">次へ</button>
                </div>
            </div>
        </div>

        <div id="assistant-selection-page" class="page" style="display: none;">
            <div class="gender-container" style="max-width: 500px;">
                <h2>パートナーの選択</h2>
                <p>あなたの診断をサポートする<br>アシスタントを選択してください。</p>

                <div class="assistant-grid">
                    <div class="assistant-card" onclick="submitAssistant('butler')">
                        <div class="assistant-img-wrapper">
                            <img src="https://drive.google.com/uc?export=view&id=1I9azPBbwlVXcXAavR0FxdpJX71ZXtqhB" alt="執事 真田">
                        </div>
                        <div class="assistant-info">
                            <h3>執事：真田</h3>
                            <p>冷静沈着で頼れる<br>イケメン執事アシスタント</p>
                        </div>
                        <button class="select-assist-btn">真田にする</button>
                    </div>

                    <div class="assistant-card" onclick="submitAssistant('maid')">
                        <div class="assistant-img-wrapper">
                            <img src="https://drive.google.com/uc?export=view&id=1VH2kxM0Szb0Bsa_vh0yWakT-qgQyq_K9" alt="メイド ココ">
                        </div>
                        <div class="assistant-info">
                            <h3>メイド：ココ</h3>
                            <p>元気いっぱいで明るい<br>可憐メイドアシスタント</p>
                        </div>
                        <button class="select-assist-btn">ココにする</button>
                    </div>
                </div>
            </div>
        </div>
        
</div><!-- 27行目<div id="app" style="display: none;">の閉じタグ-->

    <div id="sync-button-container" style="display: none;">
        
        <div class="registration-content">
            <p id="error-message"></p>
            
            <button id="sync-button" class="registration-button primary" onclick="syncAccount()">
                初回登録（初めての方）
            </button>
            
            <div class="registration-footer">
                <a href="#">新規登録・ログインでお困りの方へ</a>
                <p>本サービスは（株）リクルート（IRP含む）社員で、独身の方（離婚されている方も含む）のみが利用可能です。</p>
            </div>
        </div>
        
    </div>

    <script src="swiper-bundle.min.js"></script>
   <script src="script.js?v=1.0.5"></script> </body>
</html>
